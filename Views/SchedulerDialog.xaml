<Window x:Class="AutoRegressionVM.Views.SchedulerDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="테스트 스케줄러" Height="500" Width="700"
        WindowStartupLocation="CenterOwner"
        MinWidth="600" MinHeight="400">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="250"/>
            </Grid.ColumnDefinitions>

            <!-- 스케줄 목록 -->
            <GroupBox Header="예약된 작업">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <DataGrid x:Name="dgSchedules" AutoGenerateColumns="False" IsReadOnly="True"
                              SelectionMode="Single" SelectionChanged="Schedule_SelectionChanged">
                        <DataGrid.Columns>
                            <DataGridCheckBoxColumn Header="" Binding="{Binding IsEnabled}" Width="30"/>
                            <DataGridTextColumn Header="이름" Binding="{Binding Name}" Width="100"/>
                            <DataGridTextColumn Header="시나리오" Binding="{Binding ScenarioName}" Width="100"/>
                            <DataGridTextColumn Header="유형" Binding="{Binding ScheduleType}" Width="60"/>
                            <DataGridTextColumn Header="다음 실행" Binding="{Binding NextRunTime, StringFormat=MM-dd HH:mm}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                        <Button Content="추가" Click="Add_Click" Width="60" Margin="5"/>
                        <Button Content="삭제" Click="Delete_Click" Width="60" Margin="5"/>
                    </StackPanel>
                </Grid>
            </GroupBox>

            <!-- 스케줄 편집 -->
            <GroupBox Grid.Column="1" Header="스케줄 설정" Margin="10,0,0,0">
                <Grid x:Name="gridEdit" Margin="10" IsEnabled="False">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="70"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Row="0" Text="이름:" VerticalAlignment="Center"/>
                    <TextBox Grid.Row="0" Grid.Column="1" x:Name="txtName" Margin="0,0,0,5"/>

                    <TextBlock Grid.Row="1" Text="시나리오:" VerticalAlignment="Center"/>
                    <ComboBox Grid.Row="1" Grid.Column="1" x:Name="cboScenario" DisplayMemberPath="Name" Margin="0,0,0,5"/>

                    <TextBlock Grid.Row="2" Text="유형:" VerticalAlignment="Center"/>
                    <ComboBox Grid.Row="2" Grid.Column="1" x:Name="cboType" Margin="0,0,0,5" SelectionChanged="Type_SelectionChanged">
                        <ComboBoxItem Content="한 번만" IsSelected="True"/>
                        <ComboBoxItem Content="매일"/>
                        <ComboBoxItem Content="매주"/>
                        <ComboBoxItem Content="매월"/>
                        <ComboBoxItem Content="간격"/>
                    </ComboBox>

                    <TextBlock Grid.Row="3" Text="실행 시간:" VerticalAlignment="Center"/>
                    <StackPanel Grid.Row="3" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,5">
                        <TextBox x:Name="txtHour" Width="40" Text="09"/>
                        <TextBlock Text=":" VerticalAlignment="Center" Margin="3,0"/>
                        <TextBox x:Name="txtMinute" Width="40" Text="00"/>
                    </StackPanel>

                    <TextBlock Grid.Row="4" Text="요일:" VerticalAlignment="Center" x:Name="lblDayOfWeek" Visibility="Collapsed"/>
                    <ComboBox Grid.Row="4" Grid.Column="1" x:Name="cboDayOfWeek" Margin="0,0,0,5" Visibility="Collapsed">
                        <ComboBoxItem Content="일요일"/>
                        <ComboBoxItem Content="월요일" IsSelected="True"/>
                        <ComboBoxItem Content="화요일"/>
                        <ComboBoxItem Content="수요일"/>
                        <ComboBoxItem Content="목요일"/>
                        <ComboBoxItem Content="금요일"/>
                        <ComboBoxItem Content="토요일"/>
                    </ComboBox>

                    <TextBlock Grid.Row="5" Text="일:" VerticalAlignment="Center" x:Name="lblDayOfMonth" Visibility="Collapsed"/>
                    <TextBox Grid.Row="5" Grid.Column="1" x:Name="txtDayOfMonth" Visibility="Collapsed" Text="1" Margin="0,0,0,5"/>

                    <CheckBox Grid.Row="6" Grid.Column="1" x:Name="chkEnabled" Content="활성화" IsChecked="True" VerticalAlignment="Top"/>

                    <Button Grid.Row="7" Grid.Column="1" Content="저장" Click="Save_Click" Width="60" HorizontalAlignment="Right"/>
                </Grid>
            </GroupBox>
        </Grid>

        <!-- 하단 버튼 -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="닫기" Click="Close_Click" Width="80" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
